<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INST. DU C.S. MENUIBO</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }
    button, select {
        cursor: pointer;
    }
    #horaireSection table, #horaireSection td, #horaireSection th {
        border: 1px solid #ccc;
    }
    #horaireSection table {
        border-collapse: collapse;
        width: 100%;
    }
    #horaireSection th, #horaireSection td {
        padding: 8px;
        text-align: center;
    }
    #horaireSection th {
        background: #0047AB;
        color: white;
    }
.box-section {
  border: 3px solid #0066cc;
  border-radius: 10px;
  padding: 15px;
  text-align: center;
  max-width: 90%;
  margin: 20px auto;
  font-family: sans-serif;
  background-color: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.box-section h2 {
  color: #0066cc;
  margin-bottom: 10px;
}


#scrollTopBtn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 99;
  background-color:#a8f2f9 ;
  color: white;
  border: none;
  outline: none;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  font-size: 26px;
  cursor: pointer;
  box-shadow: 0px 4px 8px rgba(0,0,0,0.3);
  display: none; 
  transition: background-color 0.4 ease;
}

#scrollTopBtn:hover {
  background-color: #a8f2f9 ;
}
    
.search-welcome input[type="text"] {
  padding: 8px;
  width: 180px;
  border: 1px solid #ccc;
  border-radius: 5px 0 0 5px;
  font-size: 14px;
}

.search button {
  padding: 8px 12px;
  background-color: #087bff;
  border: none;
  color: white;
  border-radius: 0 5px 5px 0;
  cursor: pointer;
}

.search button:hover {
  background-color: #0056b3;
}

/* R√©sultat de recherche */
.resultat-recherche {
  margin-top: 20px;
  text-align: center;
  color: #28a745; 
  font-size: 18px;
}

.accueil {
  background-image: url('IMG-20250506-WA0020.jpg'); /* change l'image ici */
  background-size: cover;68
  background-position: center;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  color: white;
}

.overlay {
  background-color: rgba(0, 0, 0, 0.2);
  padding: 20px;
  border-radius: 8px;
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 3; }
  50% { transform: scale(1.05); opacity: 0.9; }
  100% { transform: scale(1); opacity: 3; }
}

.titre-principal {
  font-size: 2em;
  font-weight: bold;
  animation: pulse 2s infinite;
}

@keyframes slideIn {
  from {
    transform: translateY(30px);
    opacity: 9;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.slogan {
  font-size: 1.5em;
  color: #a8f2f9; 
  animation: slideIn 2s ease forwards;
  animation-delay: 1s;
}

nav {
  background-color:#a8f2f9;
  padding: 15px 20px;
  color: white;
}

.menu {
  list-style: none;
  padding: 0;
  margin: 0;
}

.menu > li {
  position: relative;
}

.menu a {
  display: block;
  padding: 12px;
  color: white;
  text-decoration: none;
}

.menu a:hover {
  background-color:#a8f2f9;
}

.submenu {
  display: none;
  background-color: #a8f2f9;
  padding-left: 15px;
}

.toggle-icon {
  float: right;
  font-weight: bold;
  font-size: 1.5em;
  cursor: pointer;
}

.toggle-icon {
  font-weight: bold;
  margin-left: auto;
  cursor: pointer;
}


.toggle-icon {
  float: right;
  font-weight: bold;
} 
    
  .site-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background-color: #0b2b9e; 
  color: white;
}

.logo-container {
  display: flex;
  align-items: center;
  border-radius: 50%;
}

.site-logo {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px;
}
.site-name {
  font-size: 24px; 
  font-weight: bold;
  text-align: center;
  color: #ffffff;
}

.menu-toggle {
  font-size: 28px;
  cursor: none;
  display: block;
  color: #ffffff;
}
.main-nav {
  display: none;
  background-color: #a8f2f9;
  padding: 12px 16px;
}

.main-nav.show {
  display: block;
}

.main-nav a {
  text-decoration: none;    
  color: #000000;            
  display: block;
  padding: 12px 16px;
}

.main-nav a:hover {
  background-color: #4db8ff;
  color: #000000;          
}


.communiques-box {
  background-color: #4a6572;
  color: white;
  padding: 40px 20px;
  text-align: center;
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 90%);
}

.communiques-box .icon {
  font-size: 40px;margin-bottom: 10px;
}

.communiques-box h3 {
  font-size: 24px;
  font-weight: bold;
  letter-spacing: 1px;
}

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #2c3e50;
      padding: 10px 20px;
      color: #fff;
    }

    .menu-toggle {
      font-size: 24px;
      cursor: pointer;
    }

    .logo img {
      height: 40px;
      border-radius: 50%;
    }

    #sidebar {
      position: fixed;
      top: 60px;
      left: -260px;
      width: 250px;
      height: 100%;
      background-color: #34495e;
      overflow-y: auto;
      transition: left 0.3s ease;
      z-index: 1000;
    }

    #sidebar.active {
      left: 0;
    }
 #sidebar ul {
      list-style: none;
    }

    #sidebar ul li {
      border-bottom: 1px solid #2c3e50;
    }

    #sidebar ul li a,
    .menu-item {
      display: block;
      padding: 15px 20px;
      color: #ecf0f1;
      text-decoration: none;
      cursor: pointer;
    }

    #sidebar ul li a:hover,
    .menu-item:hover {
      background-color: #3d531e;
    }

    .submenu {
      display: none;
      background-color: #3d531e;
    }

    .submenu li a {
      padding-left: 40px;
    }

    .toggle-icon {
      float: right;
    }

    main {
      margin-left: 0;
      padding: 20px;
      transition: margin-left 0.3s ease;
    }

    #sidebar.active ~ main {
      margin-left: 250px;
    }

   .submenu {
  margin-left: 20px;
  list-style: none;
  padding-left: 0;
} 
.submenu li a {
  color: white;
  text-decoration: none;
  display: block;
  padding: 5px 0;
}

  </style>
</head>
<body>

<header class="site-header">
  <div class="logo-container">
    <img src="IMG-20250503-WA0046.jpg" alt="IMG-20250503-WA0046.jpg" class="site-logo"> <!-- Remplace logo.png par ton image -->
    <span class="site-name">INSTITUT DU C.S. MENUIBO </span>
  </div>
  <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
</header>

<nav class="main-nav" id="mainMenu">
      <li class="menu-item">
  <a href="#" onclick="toggleSubmenu('options-submenu')">
    <i class="fas fa-user"></i>  üéì OPTIONS  <span class="toggle-icon">+</span>
  </a>
  <ul id="options-submenu" class="submenu" style="display: none;">
   <li><a href="#">Nutrition</a></li>
        <li><a href="#">Sociale</a></li>
        <li><a href="#">Construction</a></li>
        <li><a href="#">Commeriale & Gestion</a></li>
  </ul>
</li>          
      
<nav>
  <ul class="menu">
    <li class="has-submenu">
      <a href="#" class="toggle-link">‚è∞ HORAIRE DES COURS<span class="toggle-icon" >+</span></a> 
       <ul class="submenu">
           
           <button id="btnHoraires" style="padding:12px 24px; background:#0047AB; color:white; border:none; border-radius:0px; font-size:14px;">
    Horaires de Cours
  </button>

  <div id="selectionSection" style="display:none; background:white; padding:20px; border-radius:8px; margin-top:20px;">
    <h3 style="color:#0047AB; text-align:center;">SECTION  DE SELECTION</h3>

    <div style="margin-bottom:10px;">
      <select id="typeHoraire" style="width:100%; padding:10px; font-size:16px;">
        <option value="">S√©lectionnez un type d'horaire</option>
        <option value="horaireOrdinaire">Horaire Ordinaire</option>
        <option value="horaireExamens">Horaire Examens</option>
      </select>
    </div>

    <div style="margin-bottom:10px;">
      <select id="classeHoraire" style="width:100%; padding:10px; font-size:16px;">
        <option value="">S√©lectionnez votre classe</option>
     <option value="7eme_annee">7√®me Ann√©e</option>
      <option value="8eme_annee">8√®me Ann√©e</option>
      <option value="1ere_annee_htn">1√®re Ann√©e HTN</option>
      <option value="1ere_annee_hts">1√®re Ann√©e HTS</option>
     <option value="1ere_annee_htc">1√®re Ann√©e HTC</option>
     <option value="1ere_annee_cg">1√®re Ann√©e C.GE</option>
     <option value="2eme_annee_htn">2√®me Ann√©e HTN</option>
      <option value="2eme_annee_hts">2√®me Ann√©e HTS</option>
     <option value="2eme_annee_htc">2√®me Ann√©e HTC</option>
      <option value="2eme_annee_cg">2√®me Ann√©e C.GE</option>
     <option value="3eme_annee_htn">3√®me Ann√©e HTN</option>
      <option value="3eme_annee_hts">3√®me Ann√©e HTS</option>
     <option value="3eme_annee_htc">3√®me Ann√©e HTC</option>
      <option value="3eme_annee_cg">3√®me Ann√©e C.GE</option>
      <option value="4eme_annee_htn">4√®me Ann√©e HTN</option>
      <option value="4eme_annee_hts">4√®me Ann√©e HTS</option>
     <option value="4eme_annee_htc">4√®me Ann√©e HTC</option>
      <option value="4eme_annee_cg">4√®me Ann√©e C.GE</option>
      <!-- Ajoute plus selon ton projet -->
      </select>
    </div>

    <div style="display:flex; justify-content:space-between;">
      <button id="btnVoirHoraire" style="padding:10px 20px; background:#0047AB; color:white; border:none; border-radius:5px;">
        Voir l‚Äôhoraire
      </button>
      <button id="btnAnnulerHoraire" style="padding:10px 20px; background:#ccc; color:black; border:none; border-radius:5px;">
        Annuler
      </button>
    </div>
  </div>

  <div id="horaireSection" style="display:none; background:white; padding:20px; border-radius:8px; margin-top:20px;">
    <h3 id="titreHoraire" style="color:#0047AB; text-align:center;"></h3>
    <div id="tableHoraireContainer" style="overflow-x:auto;"></div>
    <button id="btnFermerHoraire" style="margin-top:20px; padding:10px 20px; background:#d9534f; color:white; border:none; border-radius:5px;">
      Fermer
    </button>
  </div>

  <p id="msgErreurHoraire" style="color:red; text-align:center; margin-top:10px;"></p>
  
      </ul>
    </li>
</nav>

  <li class="menu-item">
  <a href="#" onclick="toggleSubmenu('portail-submenu')">
    <i class="fas fa-user"></i> üë§ PORTAIL <span class="toggle-icon">+</span>
  </a>
  <ul id="portail-submenu" class="submenu" style="display: none;">
      
  <!-- BOUTON ELEVE -->
  <button onclick="document.getElementById('loginSection').style.display='block'; this.style.display='none';" 
    style="padding:10px 20px; background:#0047AB; color:white; border:none; border-radius:0px; font-size:14px;">Connexion √âl√®ve</button>

  <!-- SECTION CONNEXION -->
  <div id="loginSection" style="display:none; background:white; padding:20px; border-radius:8px; margin-top:20px;">
    <h2 style="background:#0047AB; color:white; padding:6px; text-align:center; border-radius:2px; font-size:22px;">ESPACE  CONNEXION</h2>
    <input id="nom" placeholder="NOM et POST NOM EN MAJUSCULE" style="display:block; width:100%; margin-bottom:10px; padding:10px; font-size:12px;">
    <input id="code" placeholder="CODE EN 4 CHIFFRES" style="display:block; width:100%; margin-bottom:10px; padding:10px; font-size:14px;">
        <select id="classe" required style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px;">
      <option value="">S√©lectionnez votre classe</option>
      <option value="7eme_annee">7√®me Ann√©e</option>
      <option value="8eme_annee">8√®me Ann√©e</option>
      <option value="1ere_annee_htn">1√®re Ann√©e HTN</option>
      <option value="1ere_annee_hts">1√®re Ann√©e HTS</option>
     <option value="1ere_annee_htc">1√®re Ann√©e HTC</option>
     <option value="1ere_annee_cg">1√®reAnn√©e C.GE</option>
     <option value="2eme_annee_htn">2√®me Ann√©e HTN</option>
      <option value="2eme_annee_hts">2√®me Ann√©e HTS</option>
     <option value="2eme_annee_htc">2√®me Ann√©e HTC</option>
      <option value="2eme_annee_cg">2√®me Ann√©e C.GE</option>
     <option value="3eme_annee_htn">3√®me Ann√©e HTN</option>
      <option value="3eme_annee_hts">3√®me Ann√©e HTS</option>
     <option value="3eme_annee_htc">3√®me Ann√©e HTC</option>
      <option value="3eme_annee_cg">3√®me Ann√©e C.GE</option>
      <option value="4eme_annee_htn">4√®me Ann√©e HTN</option>
      <option value="4eme_annee_hts">4√®me Ann√©e HTS</option>
     <option value="4eme_annee_htc">4√®me Ann√©e HTC</option>
      <option value="4eme_annee_cg">4√®me Ann√©e C.GE</option>
      <!-- Ajoute plus selon ton projet -->
    </select><br />
    <div style="display:flex; justify-content:space-between;">
      <button onclick="connexion()" style="padding:10px 20px; background:#0047AB; color:white; border:none; border-radius:5px;">Se connecter</button>
      <button onclick="location.reload()" style="padding:10px 20px; background:#ccc; border:none; border-radius:5px;">Annuler</button>
    </div>
    <p id="msg-erreur" style="color:red; text-align: center; margin-top:10px;"></p>
  </div>

  <!-- SECTION TABLEAU DE BORD -->
  <div id="dashboard" style="display:none; background:white; margin-top:20px; padding:20px; border-radius:8px;">
    <h2 style="background:#0047AB; color:white; padding:10px; text-align:center; border-radius:5px; font-size:22px;">ESPACE  ELEVE</h2>
    <p id="bienvenue"></p>
    <select id="anneeSelect" style="width:100%; padding:10px; margin-bottom:20px;">
      <option disabled selected>S√©lectionnez l'ann√©e scolaire</option>
      <option>2024-2025</option>
      <option>2025-2026</option>
    </select>
    <div style="display:flex; gap:10px;">
    <button onclick="chargerResultats()" style="flex:1; padding:10px; background:#0047AB; color:white; border:none; border-radius:5px;">R√©sultat</button>
      <button onclick="chargerFinances()" style="flex:1; padding:10px; background:#aaa; border:none; border-radius:5px;">Finance</button>
      <button onclick="location.reload()" style="flex:1; padding:10px; background:#ccc; border:none; border-radius:5px;">Se d√©connecter</button>
      <p id="msg-erreur" style="color:red; text-align: center; margin-top:10px;"></p>
    </div>
  </div>
  
  <!-- SECTION R√âSULTATS -->
  <div id="resultats" style="display:none; background:white; margin-top:20px; padding:20px; border-radius:8px;">
    <div id="resultat-tableau"></div>
    
    <h2 id ="titre-resultat" style="background:#0047AB; color:white; padding:10px; text-align:center; border-radius:5px; font-size:22px;"></h2>
        <p id="bienvenue"></p>
        <p id="msg-erreur" style="color:red; text-align: center; margin-top:10px;"></p>
  </div>
<!-- SECTION FINANCES -->
  <div id="finance" style="display:none; background:white; margin-top:20px; padding:20px; border-radius:8px;">
    <div id="finance-table"></div>
    <h2 id= "titre-finances" style="background:#0047AB; color:white; padding:10px; text-align:center; border-radius:5px; font-size:22px;"></h2>
        <p id="bienvenue"></p>
        <p id="msg-erreur" style="color:red; text-align: center; margin-top:10px;"></p>
  </div>
  
    </div>
  </div>

  <div id="resultats" style="display:none; background:white; margin-top:20px; padding:20px; border-radius:8px;">
    <div id="resultat-tableau"></div>
  </div>

  <div id="finance" style="display:none; background:white; margin-top:20px; padding:20px; border-radius:8px;">
    <div id="finance-table"></div>
  </div>
  </ul>
</li>


     <section id="a-propos" style="background:none;padding:20px;border-radius:10px;margin:20px;color:white;">
  <div style="display:flex;justify-content:space-between;align-items:center;">
    <h2 style="font-size:16px;font-weight:normal;color: black ;">
      <span style="font-size:20px;">‚ò¢Ô∏è</span> √Ä PROPOS
    </h2>
    <button id="toggle-button" onclick="toggleOptions()" style="font-size:1.6em; font-size:28px;background:none;border:none;color: black ;cursor:pointer;">+</button>
  </div>
  <div id="apropos-options" style="display:none;margin-top:10px;">
    <button onclick="showPopup('valeurs')" style="margin:5px;padding:10px;background:#007bff;color:white;border:none;border-radius:5px;">‚≠ê Nos Valeurs</button>
    <button onclick="showPopup('mission')" style="margin:5px;padding:10px;background:#007bff;color:white;border:none;border-radius:5px;">üéØ Mission</button>
    <button onclick="showPopup('vision')" style="margin:5px;padding:10px;background:#007bff;color:white;border:none;border-radius:5px;">üëÅÔ∏è Vision</button>
    <button onclick="showPopup('historique')" style="margin:5px;padding:10px;background:#007bff;color:white;border:none;border-radius:5px;">üóÇÔ∏è Historique</button>
  </div>
</section>

<!-- Popups -->
<div id="popup-valeurs" class="popup"><div class="popup-content"><span onclick="closePopup('valeurs')" class="close-btn">&times;</span><h3>‚≠ê Nos Valeurs</h3><p> Le progr√®s dans la discipline et la collaboration </p></div></div>
<div id="popup-mission" class="popup"><div class="popup-content"><span onclick="closePopup('mission')" class="close-btn">&times;</span><h3>üéØ Mission</h3><p>Former des citoyens responsables et comp√©tents</p></div></div>
<div id="popup-vision" class="popup"><div class="popup-content"><span onclick="closePopup('vision')" class="close-btn">&times;</span><h3>üëÅÔ∏è Vision</h3><p>√ätre un mod√®le d‚Äôexcellence √©ducative dans la r√©gion</p></div></div>
<div id="popup-historique" class="popup"><div class="popup-content"><span onclick="closePopup('historique')" class="close-btn">&times;</span><h3>üóÇÔ∏è Historique</h3><p>L‚Äô√©tablissement a √©t√© fond√© en 1998 pour r√©pondre aux besoins √©ducatifs de la r√©gion</p></div></div>
 
  </ul>
</li>          
  </nav>


<style>
.popup {
  display: none;
  position: fixed;
  z-index: 999;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.5);
}
.popup-content {
  background: white;
  padding: 20px;
  margin: 10% auto;
  width: 80%;
  max-width: 400px;
  border-radius: 8px;
}
.close {
  float: right;
  font-size: 24px;
  cursor: pointer;
}
</style>


<section class="accueil">
  <div class="overlay">
    <h1 class="titre-principal">Bienvenue sur l'espace en ligne de l'institut du Complexe Scolaire Menuibo</h1>
    <p class="slogan">Notre devise: Le progr√®s dans la discipline et la collaboration</p>
  </div>
</section>


<section class="communiques-box" style="border:1px solid #ccc; padding:15px; max-width:600px; margin:auto; font-family:sans-serif;">
  <div class="icon" style="color:#f60; font-size:30px; text-align:center; margin-bottom:10px;">üì¢</div>
  <h3 style="text-align:center; margin-bottom:15px;">COMMUNIQU√âS</h3>
  
<div style="background:#4a6572; color:#fff; padding:40px 20px; text-align:center; clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%); max-width:600px; margin:auto;">
  <div style="font-size:14px; font-style:italic; margin-bottom:10px;">Publi√© le 01 Octobre 2025</div>
  <h2 style="font-size:32px; font-weight:bold; margin-bottom:15px;"> Site web Pour l'institut du C.S Menuibo disponible sur Google</h2>
  <p id="comm-text" style="max-height: 0; overflow: hidden; margin: 0 auto 20px; transition: max-height 0.3s ease;">
La pr√©fecture informe tous les √©l√®ves et parents que l'institut du Complexe Scolaire Menuibo poss√®de d'un site web via Google depuis le mois dernier. <br>  <br> Pour la consultation des resultats, paiements scolaires, horaires des cours... <br>
 Il suffit de taper dans la barre de recherche, menuibo.netlify.app <br> <br> <br> <br> KASEREKA VYAMBWERA Edmond <br> Chef d'etablissement 
  </p>
  <button id="comm-toggle" style="background:#fff; color:#4a6572; border:none; padding:10px 20px; font-weight:bold; cursor:pointer;">
    Voir plus
  </button>
</div>
</section>

<div style="border: 3px solid #007bff; border-radius: 10px; padding: 20px; margin: 20px; text-align: center;">
  <h2 style="color: #007bff; font-size: 24px; margin-bottom: 20px;">Equipe P√©dagogique du C.S. Menuibo</h2>

  <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 15px; width: 250px;">
      <h3 style="margin: 10px 0; font-size: 20px; color: #34495e;">KASEREKA VYAMBWERA Edmond</h3>
      <p style="margin: 0; font-size: 15px; color: #7f8c8d;">Chef d'√©tablissement</p>
    </div>

    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 15px; width: 250px;">
      <h3 style="margin: 10px 0; font-size: 20px; color: #34495e;">Nom du proviseur</h3>
      <p style="margin: 0; font-size: 15px; color: #7f8c8d;">Proviseur </p>
    </div>

    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 15px; width: 250px;">
      <h3 style="margin: 10px 0; font-size: 20px; color: #34495e;">Nom du DiDi</h3>
      <p style="margin: 0; font-size: 15px; color: #7f8c8d;">Directeur de Discipline </p>
    </div>
    
    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 15px; width: 250px;">
      <h3 style="margin: 10px 0; font-size: 20px; color: #34495e;">Nom du Comptable</h3>
      <p style="margin: 0; font-size: 15px; color: #7f8c8d;">Comptable </p>
    </div>
  </div>
</div>

 <section id="Mot du chef d'√©tablissement" style="background-color: white; border: 3px solid #007bff; border-radius: 10px; margin: 15px; padding: 20px;">
    <h2 style="color: #007bff; text-align: center;"> üéì Mot du Chef d'√©tablissement</h2>
    <p>Bienvenue au  Complexe Scolaire Menuibo. <br> Pour une meilleure formation de nos enfants. Nous nous engageons √† offrir un cadre d'apprentissage exemplaire pour tous les √©l√®ves. Ensemble, construisons un avenir meilleur.</p>
    <br> <br>
    <p style="font-weight: bold; margin-top: 10px;">‚Äî KASEREKA VYAMBWERA Edmond,    Chef d'etablissement</p>
  </div>
</section>


<style>
.faq-section {
  border: 3px solid #007bff; 
  padding: 20px; 
  max-width: 320px; 
  margin: 20px auto; 
  border-radius: 8px; 
  font-family: Arial, sans-serif; 
  background: white;
}
.faq-section h2 {
  color: #007bff; 
  text-align: center; 
  margin-bottom: 15px; 
  font-weight: bold;
}
.faq-question {
  font-weight: bold; 
  margin-top: 15px; 
  cursor: pointer; 
  color: #333;
}
.faq-answer {
  display: none; 
  margin-top: 8px; 
  color: #555;
}
</style>
<div class="faq-section">
  <h2>FAQ - Foire aux Questions</h2>
  <div>
    <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';">1. Comment s'inscrire ?</div>
    <div class="faq-answer">Veuillez vous pr√©senter √† l'√©tablissement avec vos dossiers.</div>
  </div>
  <div>
    <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';">2. Quels sont les horaires ?</div>
    <div class="faq-answer">De 7h30 √† 15h30, du lundi au samedi.</div>
  </div>
  
  <div>
    <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';">3. O√π se situe l'√©cole ?</div>
    <div class="faq-answer"> Commune Bulengera, Butembo/Nord-Kivu.</div>
  </div>
  <div>
    <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';"> 4. Quels documents fournir pour √™tre inscrit ?</div>
    <div class="faq-answer">Certificat de naissance, photos d'identit√©, bulletins scolaires des basses classes.</div>
  </div>
  <div>
    <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';">5. Comment contacter l'administration ?</div>
    <div class="faq-answer">Par email √† menuibo@gmail.com ou par t√©l√©phone au +243 990 785 104.</div>
  </div>
  <div>
    <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';">6. Y a-t-il des activit√©s extrascolaires ?</div>
    <div class="faq-answer">Oui, sport, musique, th√©√¢tre et clubs scientifiques.</div>
  </div>
  <div>
 <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';">7. Quels sont les frais de scolarit√© ?</div>
    <div class="faq-answer">Ils varient selon le niveau, merci de contacter le secr√©tariat.</div>
  </div>
  <div>
    <div class="faq-question" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block';">8. Comment obtenir ces dossiers scolaires pour nous les ressortissants ?</div>
    <div class="faq-answer">Demandez-le au secr√©tariat en pr√©sentant une pi√®ce d'identit√©, et financi√®re.</div>
  </div>
</div>



    <section id="contact" style="background-color: white; border: 3px solid #007bff; border-radius: 10px; margin: 15px; padding: 20px;">
    <h2 style="color: #007bff; text-align: center;">CONTACT et <br> LIENS UTILES</h2>

    <div style="display: flex; align-items: center; margin: 10px;">
        <img src="https://img.icons8.com/ios-filled/30/007bff/new-post.png" alt="Email" style="margin-right: 10px;">
        <a href="mailto:menuibo@gmail.com" target="_blank" style="text-decoration: none; color: black;">menuibo@gmail.com</a>
    </div>

    <div style="display: flex; align-items: center; margin: 10px;">
        <img src="https://img.icons8.com/ios-filled/30/007bff/whatsapp.png" alt="WhatsApp" style="margin-right: 10px;">
        <a href="https://wa.me/243990785104" target="_blank" style="text-decoration: none; color: black;">+243 990 785 104</a>
    </div>

    <div style="display: flex; align-items: center; margin: 10px;"><img src="https://img.icons8.com/ios-filled/30/007bff/facebook-new.png" alt="Facebook" style="margin-right: 10px;">
        <a href="https://www.facebook.com/Complexe Scolaire Menuibo" target="_blank" style="text-decoration: none; color: black;">Complexe Scolaire Menuibo</a>
    </div>

    <div style="display: flex; align-items: center; margin: 10px;">
        <img src="https://img.icons8.com/ios-filled/30/007bff/internet.png" alt="Site Web" style="margin-right: 10px;">
        <a href="https://menuibo.netlify.app" target="_blank" style="text-decoration: none; color: black;">menuibo.netlify.app</a>
    </div>
</section>



<button onclick="scrollToTop()" id="scrollTopBtn" title="Remonter en haut">‚è´Ô∏èÔ∏è</button>

<footer style="background-color: #007bff; color: white; text-align: center; padding: 20px 0; margin-top: 50px; border-top: 3px solid black ;">
  <p id="footer-text" style="margin: 5px 0;">
   Copyright - <span id="year"></span> - ¬© Tous droits r√©serv√©s</p>
  <p style="margin: 5px 0;"> üõ†Ô∏è D√©veloppeurs : <strong>Anic√© Mwanza et Hope Ishara.</strong></p>
</footer>

  <script>
    function toggleSubmenu(id, el) {
      const submenu = document.getElementById(id);
      const isOpen = submenu.style.display === 'block';
      submenu.style.display = isOpen ? 'none' : 'block';
 const icon = el.querySelector('.toggle-icon');
      icon.textContent = isOpen ? '+' : '‚Äì';
    }
  </script>
  
<script>
  function toggleMenu() {
    const menu = document.getElementById("mainMenu");
    menu.classList.toggle("show");
  }
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const toggleLinks = document.querySelectorAll('.toggle-link');

    toggleLinks.forEach(function (toggle) {
      toggle.addEventListener('click', function (e) {
        e.preventDefault();
        const submenu = this.nextElementSibling;
        const icon = this.querySelector('.toggle-icon');
        const isVisible = submenu.style.display === 'block';
        submenu.style.display = isVisible ? 'none' : 'block';
        icon.textContent = isVisible ? '+' : '-';
      });
    });
  });
</script>

<script>
  function toggleSubmenu(id) {
    const submenu = document.getElementById(id);
    const icon = submenu.previousElementSibling.querySelector('.toggle-icon');

    if (submenu.style.display === "none") {
      submenu.style.display = "block";
      icon.textContent = "-";
    } else {
      submenu.style.display = "none";
      icon.textContent = "+";
    }
  }
  </script>
  
<script>
  // Afficher automatiquement l'ann√©e actuelle
  document.getElementById('year').textContent = new Date().getFullYear();
</script>

<script>
  // Affiche le bouton apr√®s un d√©filement
  window.onscroll = function() {toggleScrollButton()};

  function toggleScrollButton() {
    const btn = document.getElementById("scrollTopBtn");
    if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
      btn.style.display = "block";
    } else {
      btn.style.display = "none";
    }
  }
  // Fait remonter doucement
  function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
  }
</script>

<script>
  const commText = document.getElementById('comm-text');
  const commToggle = document.getElementById('comm-toggle');
  let expanded = false;
  commToggle.onclick = () => {
    if(!expanded){
      commText.style.maxHeight = '500px';
      commToggle.textContent = 'Voir moins';
    } else {
      commText.style.maxHeight = '0';
      commToggle.textContent = 'Voir plus';
    }
    expanded = !expanded;
  };
</script>

  
<!-- CSS + JS inline -->
<style>
.popup {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:999;}
 .popup-content {background:#fff;margin:15% auto;padding:20px;border-radius:10px;width:80%;max-width:400px;color:black;position:relative;}
.close-btn {position:absolute;top:10px;right:15px;font-size:20px;cursor:pointer;color:red;}
</style>

<script>
function toggleOptions() {
  var options = document.getElementById('apropos-options');
  var toggleBtn = document.getElementById('toggle-button');
  if (options.style.display === 'none' || options.style.display === '') {
    options.style.display = 'block';
    toggleBtn.textContent = '-';
  } else {
    options.style.display = 'none';
    toggleBtn.textContent = '+';
  }
}
function showPopup(id) {
  document.getElementById('popup-' + id).style.display = 'block';
}
function closePopup(id) {
  document.getElementById('popup-' + id).style.display = 'none';
}
</script>

<script type="module">
  // Importation des fonctions n√©cessaires
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";

  // Votre configuration Firebase (qui est correcte)
  const firebaseConfig = {
    apiKey: "AIzaSyCDZfxTBtx10TycA84cX0QOCRBTcmRqXfw",
    authDomain: "institut-menuibo.firebaseapp.com",
    databaseURL: "https://institut-menuibo-default-rtdb.firebaseio.com",
    projectId: "institut-menuibo",
    storageBucket: "institut-menuibo.firebasestorage.app",
    messagingSenderId: "102022442556",
    appId: "1:102022442556:web:fa216f629bb8b87deb9d39",
    measurementId: "G-6L3YTHBX90"
  };

  // Initialisation de Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

  // CRITIQUE : Initialisation de la base de donn√©es et la rendre globale (window.db)
  const db = getDatabase(app);
  window.db = db;
</script>

<script>
    let utilisateur = null;

    window.connexion = async function() {
        let nom = document.getElementById("nom").value.trim();
        let code = document.getElementById("code").value.trim();
        let classe = document.getElementById("classe").value;
        if (!nom || !code || !classe) {
            document.getElementById("msg-erreur").textContent = ("Veuillez remplir tous les champs");
            return;
        }
        try {
            // Note: 'db' est maintenant disponible gr√¢ce √† window.db
            const snap = await get(ref(db, `utilisateurs/${classe}/${code}`));
            if (snap.exists()) {
                const user = snap.val();
                if (user.nom === nom) {
                    // CRITIQUE : On stocke l'id_eleve pour les requ√™tes futures
                    utilisateur = { 
                        nom: nom, 
                        code: code, 
                        classe: classe,
                        id_eleve: user.id_eleve // IMPORTANT : L'ID stock√© dans votre DB pour cet utilisateur
                    };
                    document.getElementById("loginSection").style.display = "none";
                    document.getElementById("dashboard").style.display = "block";
                    document.getElementById("bienvenue").innerHTML = `Bienvenue <strong>${nom}</strong> !<br>Classe : <strong>${classe}</strong>`;
                } else {
                    document.getElementById("msg-erreur").textContent = ("Nom incorrect ou pas trouv√©");
                }
            } else {
                document.getElementById("msg-erreur").textContent = ("√©l√®ve non trouv√©");
            }
        } catch (err) {
            console.error(err);
            // Si db n'√©tait pas d√©fini, l'erreur est ici
            document.getElementById("msg-erreur").textContent = ("Erreur lors de la connexion √† la base des donn√©es. (V√©rifiez l'initialisation de Firebase)");
        }
    };
    
window.chargerResultats = async function() {
    const annee = document.getElementById("anneeSelect").value;
    
    // 1. V√©rifications initiales
    if (!annee) {
        document.getElementById("msg-erreur").textContent = "S√©lectionnez une ann√©e scolaire";
        return;
    }
    if (!utilisateur || !utilisateur.id_eleve || !utilisateur.classe) {
         document.getElementById("msg-erreur").textContent = "Erreur: √©l√®ve non identifi√©. Veuillez vous reconnecter.";
         return;
    }
    
    // D√©finir les chemins d'acc√®s √† la base de donn√©es (DB)
    const cheminParametresAnnee = `parametres_classes/${annee}`; // Pour lire la p√©riode active et le seuil
    const cheminPublication = `published_status/${annee}`;
    const cheminFinancesEleve = `finances/${annee}/${utilisateur.id_eleve}`;
    const cheminResultatsEleve = `resultats/${utilisateur.id_eleve}/${annee}`; 

    try {
        // --- √âTAPE A : Lire les param√®tres g√©n√©raux (y compris la P√âRIODE ACTIVE) ---
        const paramSnapGlobal = await get(ref(db, cheminParametresAnnee));
        
        if (!paramSnapGlobal.exists()) {
             document.getElementById("msg-erreur").textContent = "Ann√©e scolaire non trouv√©s. Contactez l'administration. Pour plus d'information, Merci";
             return;
        }

        // R√©cup√©rer la p√©riode que le script DOIT v√©rifier (d√©finie dans la DB)
        const periodeAVerifier = paramSnapGlobal.val()?.periode_active || "total_general";
        
        // R√©cup√©rer le seuil de paiement sp√©cifique √† la CLASSE
        const seuil = Number(paramSnapGlobal.val()?.[utilisateur.classe]?.seuil || 0);

        // ----------------------------------------------------------------------
        // 1. V√âRIFICATION DE PUBLICATION GLOBALE (Contr√¥l√©e par published_status)
        // ----------------------------------------------------------------------
        const pubSnap = await get(ref(db, cheminPublication));
        
        // V√©rifie si la p√©riode active est d√©finie sur 'true'
        if (!pubSnap.exists() || pubSnap.val()?.[periodeAVerifier] !== true) {
            document.getElementById("msg-erreur").textContent = (`Les r√©sultats du ${periodeAVerifier.replace('_', ' ')} ne sont pas encore publi√©s pour l'ann√©e ${annee}.`);
            return; // BLOCAGE D'ACC√àS
        }
        
        // ----------------------------------------------------------------------
        // 2. V√âRIFICATION FINANCI√àRE (Seuil de paiement)
        // ----------------------------------------------------------------------
        
        const finSnap = await get(ref(db, cheminFinancesEleve));
        
        if (finSnap.exists()) {
            const finData = finSnap.val();
            // Calcul du total pay√©
            const totalPaye = Number(finData.pay√© || 0) + Number(finData.frais_divers || 0) + Number(finData.frais_construction || finData.frais_TE || 0) - Number(finData.rel || 0);

            // Comparer le total pay√© avec le seuil
            if (totalPaye < seuil) {
                document.getElementById("msg-erreur").textContent = (`Veuillez passer √† la comptabilit√© pour r√©gulariser votre situation de finance, afin de voir vos r√©sultats, votre seuil est de ${seuil} .`);
                return; // BLOCAGE D'ACC√àS
            }
        } else {
            document.getElementById("msg-erreur").textContent = ("Aucune donn√©e financi√®re trouv√©e pour Vous. Veuillez passer √† la comptabilit√©, Merci.");
            return;
        }

        // ----------------------------------------------------------------------
        // 3. R√âCUP√âRER ET AFFICHER LES R√âSULTATS (Acc√®s accord√©)
        // ----------------------------------------------------------------------
        
        const resSnap = await get(ref(db, cheminResultatsEleve));

        if (!resSnap.exists()) {
            document.getElementById("msg-erreur").textContent = ("Aucun r√©sultat scolaire trouv√©. Veuillez passer √† la pr√©fecture.");
            return;
        }

        const data = resSnap.val();
        
        // Construction du tableau HTML des r√©sultats
        const champs = ["periode1", "periode2", "periode3", "periode4", "examen1", "examen2", "total_semestre1", "total_semestre2", "total_general"];
        let header = "<tr style='background:#0047AB; color:white;'><th></th>";
        champs.forEach(c => { header += `<th>${c.replace('_', ' ')}</th><th>Place</th>`; }); // Ajout de replace pour un meilleur affichage
        header += "</tr>";

        let row = "<tr><td>Pourcentage</td>";
        champs.forEach(c => { 
            const result = data[c];
            row += `<td>${result?.pourcentage ?? 0}</td><td>${result?.place ?? "-"}</td>`; 
        });
        row += "</tr>";

        const tableHTML = `
            <table style="width:100%; border-collapse:collapse; text-align:center; margin-top:20px;">
                ${header}
                ${row}
            </table>
        `;
        
        // Affichage du tableau et changement de section
        document.getElementById("dashboard").style.display = "none";
        document.getElementById("resultats").style.display = "block";
        document.getElementById("titre-resultat").textContent = `Votre R√©sultats, Ann√©e scolaire: (${annee})`;
        document.getElementById("bienvenue").innerHTML = `Bienvenue <strong>${utilisateur.nom}</strong> !<br>Classe : <strong>${utilisateur.classe}</strong> <br> Ann√©e : <strong> ${annee} </strong>`;
        document.getElementById("finances").style.display = "none";
        document.getElementById("resultat").innerHTML = tableHTML;

    } catch (err) {
        console.error("Erreur lors de chargerResultats:", err);
        document.getElementById("msg-erreur").textContent = ("Erreur lors de la r√©cup√©ration des r√©sultats dans la base de donn√©es");
    }
};

    window.chargerFinances = async function() {
        const annee = document.getElementById("anneeSelect").value;
        if (!annee) {
            document.getElementById("msg-erreur").textContent = "S√©lectionnez une ann√©e scolaire";
            return;
        }
        if (!utilisateur || !utilisateur.id_eleve) {
             document.getElementById("msg-erreur").textContent = "Erreur: El√®ve non identifi√©. Veuillez vous reconnecter.";
             return;
        }

        // CHEMINS CORRIG√âS: L'objet finances est sous l'ID de l'√©l√®ve.
        const cheminFinancesEleve = `finances/${annee}/${utilisateur.id_eleve}`;
        const cheminParametresClasse = `parametres_classes/${annee}/${utilisateur.classe}`; 

        try {
            // 1. R√©cup√©rer les param√®tres de classe pour le total (doit se faire en premier)
            const paramSnap = await get(ref(db, cheminParametresClasse));
            if (!paramSnap.exists()) {
                 document.getElementById("msg-erreur").textContent = "frais totals par classe non trouv√©s. Veuillez contacter la comptabilit√©.";
                 return;
            }
            const paramData = paramSnap.val();
            const totalClasse = Number(paramData.total_classe || 0);

            // 2. R√©cup√©rer les donn√©es financi√®res de l'√©l√®ve
            const snap = await get(ref(db, cheminFinancesEleve));
            if (!snap.exists()) {
                document.getElementById("msg-erreur").textContent = "Aucune donn√©e financi√®re trouv√©e, Veuillez passer √† la comptabilit√©, Merci";
                return;
            }
            const d = snap.val();
            
            // Les cl√©s correspondent √† votre JSON
            const paye = Number(d.pay√©) || 0;
            const divers = Number(d.frais_divers) || 0;
            const constr = Number(d.frais_construction || d.frais_TE) || 0;
            const rel = Number(d.rel) || 0;
            
            const totalPaye = paye + divers + constr - rel;
            const restant = totalClasse - totalPaye;

            const tableHTML = `
                <table style="width:100%">
                    <tr style="background:#0047AB; color:white;">
                        <th>Pay√©</th><th>Frais Divers</th><th>Frais Construction / TE</th><th>Rel</th>
                    </tr>
                    <tr>
                        <td style="color:black;">${paye}</td>
                        <td style="color:green;">${divers}</td>
                        <td style="color:black;">${constr}</td>
                        <td style="color:red;">${rel}</td>
                    </tr>
                </table>
                <h4 style="color:black; text-align:center; margin-top:10px;">Total Pay√©: <strong>${totalPaye}</strong></h4>
                <h4 style="color:blue; text-align:center;">Restant √† Payer: <strong>${restant}</strong></h4>
            `; // La cha√Æne est bien ferm√©e ici.

            document.getElementById("dashboard").style.display = "none";
            document.getElementById("finances").style.display = "block";
            document.getElementById ("titre-finances").textContent = `Votre situation financi√®re, Ann√©e Scolaire: (${annee})`;
            document.getElementById("bienvenue").innerHTML = `Bienvenue <strong>${utilisateur.nom}</strong> !<br>Classe : <strong>${utilisateur.classe}</strong> <br> Ann√©e: <strong> ${annee} </strong>`;
            document.getElementById("resultats").style.display = "none";
            document.getElementById("finances").innerHTML = tableHTML;

        } catch (err) {
            console.error(err);
            document.getElementById("msg-erreur").textContent = ("Erreur lors de la r√©cup√©ration des finances dans la base de donn√©es");
        }
    };

    function classePath(c) {
        return c;
    }
</script>

<script>
    // √âl√©ments
    const btnHoraires = document.getElementById("btnHoraires");
    const selectionSection = document.getElementById("selectionSection");
    const btnVoirHoraire = document.getElementById("btnVoirHoraire");
    const btnAnnulerHoraire = document.getElementById("btnAnnulerHoraire");
    // Assurez-vous que l'√©l√©ment HTML a bien l'ID "typeHoraire" pour un select box.
    const typeSelect = document.getElementById("typeHoraire"); 
    const classeSelect = document.getElementById("classeHoraire");
    const horaireSection = document.getElementById("horaireSection");
    const titreHoraire = document.getElementById("titreHoraire");
    const tableHoraireContainer = document.getElementById("tableHoraireContainer");
    const btnFermerHoraire = document.getElementById("btnFermerHoraire");
    const msgErreurHoraire = document.getElementById("msgErreurHoraire");

    btnHoraires.addEventListener("click", () => {
      msgErreurHoraire.textContent = "";
      selectionSection.style.display = "block";
      horaireSection.style.display = "none";
    });

    btnAnnulerHoraire.addEventListener("click", () => {
      selectionSection.style.display = "none";
      msgErreurHoraire.textContent = "";
      // Si vous utilisez des select box, il faut r√©initialiser la valeur
      if (typeSelect) typeSelect.value = ""; 
      classeSelect.value = "";
    });

    btnFermerHoraire.addEventListener("click", () => {
      horaireSection.style.display = "none";
      selectionSection.style.display = "none";
    });

    btnVoirHoraire.addEventListener("click", async () => {
      msgErreurHoraire.textContent = "";
      
      // La variable type est r√©cup√©r√©e du select box
      const type = typeSelect ? typeSelect.value : ''; 
      const classe = classeSelect.value;

      if (!type || !classe) {
        msgErreurHoraire.textContent = ("Veuillez s√©lectionner un type d'horaire et votre classe.");
        return;
      }

      try {
        // Le code suppose que db est disponible globalement gr√¢ce √† window.db
        const snap = await get(ref(db, `horaires/${classe}/${type}`));
        if (!snap.exists()) {
          msgErreurHoraire.textContent = ("Aucun horaire trouv√© pour cette classe et ce type.");
          return;
        }
        const data = snap.val();

        // Logique de construction du tableau
        const jours = Object.keys(data);
        const creneauxHoraires = jours.length > 0 ? Object.keys(data[jours[0]]) : [];
        
        let html = "<table style='width:100%; border-collapse:collapse; text-align:center;'>";
        html += "<tr style='background:#0047AB; color:white;'><th>Jour</th>";
        creneauxHoraires.forEach(creneau => {
          html += `<th>${creneau}</th>`;
        });
        html += "</tr>";

        // Remplir le tableau
        jours.forEach(jour => {
          html += `<tr><td style='border:1px solid #ccc; padding:8px; font-weight:bold;'>${jour}</td>`;
          creneauxHoraires.forEach(creneau => {
            // Acc√®s s√©curis√© aux donn√©es
            html += `<td style='border:1px solid #ccc; padding:8px;'>${data[jour]?.[creneau] || ""}</td>`; 
          });
          html += "</tr>";
        });
        
        html += "</table>";

        // Afficher l'horaire
        selectionSection.style.display = "none";
        titreHoraire.textContent = `Horaire ${type === "ordinaire" ? "Ordinaire" : "Examens"} - ${classe}`;
        tableHoraireContainer.innerHTML = html;
        horaireSection.style.display = "block";
      } 
      catch (err) {
        console.error(err);
        msgErreurHoraire.textContent = "Erreur lors de la connexion √† la base de donn√©es";
      }
    });
</script>

</body>
</html>
